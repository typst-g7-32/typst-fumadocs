---
title: "Here"
description: "Documentation for the `here` function."
---

import { TypstPreview } from '@/components/typst/preview';

Provides the current location in the document.

You can think of `here{:typst}` as a low-level building block that directly extracts the current location from the active [context](/docs/reference/context/). Some other functions use it internally: For instance, `counter.get(){:typst}` is equivalent to `counter.at(here()){:typst}`.

Within show rules on [locatable](/docs/reference/introspection/location/#locatable) elements, `here(){:typst}` will match the location of the shown element.

If you want to display the current page number, refer to the documentation of the [`counter{:typst}`](/docs/reference/introspection/counter/) type. While `here{:typst}` can be used to determine the physical page number, typically you want the logical page number that may, for instance, have been reset after a preface.

## Examples

Determining the current position in the document in combination with the [`position{:typst}`](/docs/reference/introspection/location/#definitions-position) method:

<TypstPreview
  code={`
  #context [
    I am located at
    #here().position()
  ]
`}
  image='/typst-fumadocs/assets/e4fac373c1481ceacbb3fa948d38fa8b'
  alt='Preview'
  editable={true}
/>

Running a [query](/docs/reference/introspection/query/) for elements before the current position:

<TypstPreview
  code={`
  = Introduction
  = Background

  There are
  #context query(
    selector(heading).before(here())
  ).len()
  headings before me.

  = Conclusion
`}
  image='/typst-fumadocs/assets/e43587e9371906b123b86b92c0aa9ff0'
  alt='Preview'
  editable={true}
/>

Refer to the [`selector{:typst}`](/docs/reference/foundations/selector/) type for more details on before/after selectors.


