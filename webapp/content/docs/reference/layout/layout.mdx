---
title: "Layout"
description: "Documentation for the `layout` function."
---

import { TypeTable } from 'fumadocs-ui/components/type-table';
import { TypstPreview } from '@/components/typst/preview';

Provides access to the current outer container's (or page's, if none) dimensions (width and height).

Accepts a function that receives a single parameter, which is a dictionary with keys `width{:typst}` and `height{:typst}`, both of type [`length{:typst}`](/docs/reference/layout/length/). The function is provided [context](/docs/reference/context/), meaning you don't need to use it in combination with the `context{:typst}` keyword. This is why [`measure{:typst}`](/docs/reference/layout/measure/) can be called in the example below.

<TypstPreview
  code={`
  #let text = lorem(30)
  #layout(size => [
    #let (height,) = measure(
      width: size.width,
      text,
    )
    This text is #height high with
    the current page width: \
    #text
  ])
`}
  image='/typst-fumadocs/assets/cc7bcca62e697ffb30df3438570db1ab'
  alt='Preview'
  editable={true}
/>

Note that the `layout{:typst}` function forces its contents into a [block](/docs/reference/layout/block/)-level container, so placement relative to the page or pagebreaks are not possible within it.

If the `layout{:typst}` call is placed inside a box with a width of `800pt{:typst}` and a height of `400pt{:typst}`, then the specified function will be given the argument `(width: 800pt, height: 400pt){:typst}`. If it is placed directly into the page, it receives the page's dimensions minus its margins. This is mostly useful in combination with [measurement](/docs/reference/layout/measure/).

To retrieve the _remaining_ height of the page rather than its full size, you can wrap your `layout{:typst}` call in a `block(height: 1fr){:typst}`. This works because the block automatically grows to fill the remaining space (see the [fraction](/docs/reference/layout/fraction/) documentation for more details).

<TypstPreview
  code={`
  #set page(height: 150pt)

  #lorem(20)

  #block(height: 1fr, layout(size => [
    Remaining height: #size.height
  ]))
`}
  image='/typst-fumadocs/assets/287861b8e3129cb301b74afa92ff7a07'
  alt='Preview'
  editable={true}
/>

You can also use this function to resolve a [`ratio{:typst}`](/docs/reference/layout/ratio/) to a fixed length. This might come in handy if you're building your own layout abstractions.

<TypstPreview
  code={`
  #layout(size => {
    let half = 50% * size.width
    [Half a page is #half wide.]
  })
`}
  image='/typst-fumadocs/assets/d40a0e3eb100447da2f5971d71a9a270'
  alt='Preview'
  editable={true}
/>

Note that the width or height provided by `layout{:typst}` will be infinite if the corresponding page dimension is set to `auto{:typst}`.

```typst
#layout(
  func
) -> content
```
## Parameters

<TypeTable
  type={{
    'func': {
      'description': 'A function to call with the outer container\'s size. Its return value is displayed in the document.  The container\'s size is given as a [dictionary](/docs/reference/foundations/dictionary/) with the keys `width{:typst}` and `height{:typst}`, both of type [`length{:typst}`](/docs/reference/layout/length/).  This function is called once for each time the content returned by `layout{:typst}` appears in the document. This makes it possible to generate content that depends on the dimensions of its container.',
      'type': 'function',
      'default': 'None'
    }
  }}
/>


