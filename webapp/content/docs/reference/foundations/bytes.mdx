---
title: "Bytes"
description: "Documentation for the Bytes type."
---

import { TypeTable } from 'fumadocs-ui/components/type-table';
import { TypstPreview } from '@/components/typst/preview';

A sequence of bytes.

This is conceptually similar to an array of [integers](/docs/reference/foundations/int/) between `0{:typst}` and `255{:typst}`, but represented much more efficiently. You can iterate over it using a [for loop](/docs/reference/scripting/#loops).

You can convert

- a [string](/docs/reference/foundations/str/) or an [array](/docs/reference/foundations/array/) of integers to bytes with the [`bytes{:typst}`](/docs/reference/foundations/bytes/) constructor
- bytes to a string with the [`str{:typst}`](/docs/reference/foundations/str/) constructor, with UTF-8 encoding
- bytes to an array of integers with the [`array{:typst}`](/docs/reference/foundations/array/) constructor

When [reading](/docs/reference/data-loading/read/) data from a file, you can decide whether to load it as a string or as raw bytes.

<TypstPreview
  code={`
  #bytes((123, 160, 22, 0)) \
  #bytes("Hello ðŸ˜ƒ")

  #let data = read(
    "rhino.png",
    encoding: none,
  )

  // Magic bytes.
  #array(data.slice(0, 4)) \
  #str(data.slice(1, 4))
`}
  image='/typst-fumadocs/assets/b09b581605724240d910b1078dee72c3.png'
  alt='Preview'
  editable={false}
/>

## Constructor
Converts a value to bytes.

- Strings are encoded in UTF-8.
- Arrays of integers between `0{:typst}` and `255{:typst}` are converted directly. The dedicated byte representation is much more efficient than the array representation and thus typically used for large byte buffers (e.g. image data).

<TypstPreview
  code={`
  #bytes("Hello ðŸ˜ƒ") \
  #bytes((123, 160, 22, 0))
`}
  image='/typst-fumadocs/assets/3e57d56a31a67c32cc63aa7c5f84b707.png'
  alt='Preview'
  editable={true}
/>

```typst
#bytes(
  value
) -> bytes
```
### Parameters

<TypeTable
  type={{
    'value': {
      'description': 'The value that should be converted to bytes.',
      'type': 'str | bytes | array',
      'default': 'None'
    }
  }}
/>


## Methods
The length in bytes.

Returns the byte at the specified index. Returns the default value if the index is out of bounds or fails with an error if no default value was specified.

```typst
#bytes.at(
  index,
  default: any
) -> any
```
### Parameters

<TypeTable
  type={{
    'index': {
      'description': 'The index at which to retrieve the byte.',
      'type': 'int',
      'default': 'None'
    },
    'default': {
      'description': 'A default value to return if the index is out of bounds.',
      'type': 'any',
      'default': 'None'
    }
  }}
/>

Extracts a subslice of the bytes. Fails with an error if the start or end index is out of bounds.

```typst
#bytes.slice(
  start,
  end,
  count: int
) -> bytes
```
### Parameters

<TypeTable
  type={{
    'start': {
      'description': 'The start index (inclusive).',
      'type': 'int',
      'default': 'None'
    },
    'end': {
      'description': 'The end index (exclusive). If omitted, the whole slice until the end is extracted.',
      'type': 'none | int',
      'default': '<code><span class="typ-key">none</span></code>'
    },
    'count': {
      'description': 'The number of items to extract. This is equivalent to passing `start + count{:typst}` as the `end{:typst}` position. Mutually exclusive with `end{:typst}`.',
      'type': 'int',
      'default': 'None'
    }
  }}
/>


