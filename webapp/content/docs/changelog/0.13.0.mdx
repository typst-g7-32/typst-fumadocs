---
title: "0.13.0"
description: "Changes in Typst 0.13.0"
---


## Highlights

- There is now a distinction between [proper paragraphs](/docs/reference/model/par/) and just inline-level content. This is important for future work on accessibility and means that [first line indent](/docs/reference/model/par/#parameters-first-line-indent) can now be enabled for all paragraphs instead of just consecutive ones.
- The [`outline{:typst}`](/docs/reference/model/outline/) has a better out-of-the-box look and is more customizable
- The new [`curve{:typst}`](/docs/reference/visualize/curve/) function (that supersedes the `path{:typst}` function) provides a simpler and more flexible interface for creating Bézier curves
- The `image{:typst}` function now supports raw [pixel raster formats](/docs/reference/visualize/image/#parameters-format) for generating images from within Typst
- Functions that accept [file paths](/docs/reference/syntax/#paths) now also accept raw [bytes](/docs/reference/foundations/bytes/), for full flexibility
- WebAssembly [plugins](/docs/reference/foundations/plugin/) are more flexible and automatically run multi-threaded
- Fixed a long-standing bug where single-letter strings in math (`$"a"${:typst}`) would be displayed in italics
- You can now specify which charset should be [covered](/docs/reference/text/text/#parameters-font) by which font family
- The [`pdf.embed{:typst}`](/docs/reference/pdf/attach/) function lets you embed arbitrary files in the exported PDF
- HTML export is currently under active development. The feature is still _very_ incomplete, but already available for experimentation behind a feature flag.

## Model

- There is now a distinction between [proper paragraphs](/docs/reference/model/par/) and just inline-level content **(Breaking change)** 
  - All text at the root of a document is wrapped in paragraphs. Meanwhile, text in a container (like a block) is only wrapped in a paragraph if the container holds any block-level content. If all of the content is inline-level, no paragraph is created.
  - In the laid-out document, it's not immediately visible whether text became part of a paragraph. However, it is still important for accessibility, HTML export, and for properties like `first-line-indent{:typst}`.
  - Show rules on `par{:typst}` now only affect proper paragraphs
  - The `first-line-indent{:typst}` and `hanging-indent{:typst}` properties also only affect proper paragraphs
  - Creating a `par[..]{:typst}` with body content that is not fully inline-level will result in a warning
  - The default show rules of various built-in elements like lists, quotes, etc. were adjusted to ensure they produce/don't produce paragraphs as appropriate
  - Removed support for booleans and content in [`outline.indent{:typst}`](/docs/reference/model/outline/#parameters-indent)
- The [`outline{:typst}`](/docs/reference/model/outline/) function was fully reworked to improve its out-of-the-box behavior **(Breaking change)** 
  - [Outline entries](/docs/reference/model/outline/#definitions-entry) are now [blocks](/docs/reference/layout/block/) and are thus affected by block spacing
  - The `auto{:typst}` indentation mode now aligns numberings and titles outline-wide for a grid-like look
  - Automatic indentation now also indents entries without a numbering
  - Titles wrapping over multiple lines now have hanging indent
  - The page number won't appear alone on its own line anymore
  - The link now spans the full entry instead of just the title and page number
  - The default spacing between outline leader dots was increased
  - The [`fill{:typst}`](/docs/reference/model/outline/#definitions-entry-fill) parameter was moved from `outline{:typst}` to `outline.entry{:typst}` and can thus be configured through show-set rules
  - Removed `body{:typst}` and `page{:typst}` fields from outline entry
  - Added `indented{:typst}`, `prefix{:typst}`, `inner{:typst}`, `body{:typst}`, and `page{:typst}` methods on outline entries to simplify writing of show rules
- Added configuration to [`par.first-line-indent{:typst}`](/docs/reference/model/par/#parameters-first-line-indent) for indenting all paragraphs instead of just consecutive ones
- Added [`form{:typst}`](/docs/reference/model/ref/#parameters-form) parameter to `ref{:typst}` function. Setting the form to `"page"{:typst}` will produce a page reference instead of a textual one.
- Added [`document.description{:typst}`](/docs/reference/model/document/#parameters-description) field, which results in corresponding PDF and HTML metadata
- Added [`enum.reversed{:typst}`](/docs/reference/model/enum/#parameters-reversed) parameter
- Added support for Greek [numbering](/docs/reference/model/numbering/)
- When the [`link{:typst}`](/docs/reference/model/link/) function wraps around a container like a [block](/docs/reference/layout/block/), it will now generate only one link for the whole block instead of individual links for all the visible leaf elements. This significantly reduces PDF file sizes when combining `link{:typst}` and [`repeat{:typst}`](/docs/reference/layout/repeat/).
- The [`link{:typst}`](/docs/reference/model/link/) function will now only strip one prefix (like `mailto:{:typst}` or `tel:{:typst}`) instead of multiple
- The link function now suppresses hyphenation via a built-in show-set rule rather than through its default show rule
- Displaying the page counter without a specified numbering will now take the page numbering into account

## Visualization

- Added new [`curve{:typst}`](/docs/reference/visualize/curve/) function that supersedes the [`path{:typst}`](/docs/reference/visualize/path/) function and provides a simpler and more flexible interface. The `path{:typst}` function is now deprecated.
- The `image{:typst}` function now supports raw [pixel raster formats](/docs/reference/visualize/image/#parameters-format). This can be used to generate images from within Typst without the need for encoding in an image exchange format.
- Added [`image.scaling{:typst}`](/docs/reference/visualize/image/#parameters-scaling) parameter for configuring how an image is scaled by PNG export and PDF viewers (smooth or pixelated)
- Added [`image.icc{:typst}`](/docs/reference/visualize/image/#parameters-icc) parameter for providing or overriding the ICC profile of an image
- Renamed `pattern{:typst}` to [`tiling{:typst}`](/docs/reference/visualize/tiling/). The name `pattern{:typst}` remains as a deprecated alias.
- Added [`gradient.center{:typst}`](/docs/reference/visualize/gradient/#definitions-center), [`gradient.radius{:typst}`](/docs/reference/visualize/gradient/#definitions-radius), [`gradient.focal-center{:typst}`](/docs/reference/visualize/gradient/#definitions-focal-center), and [`gradient.focal-radius{:typst}`](/docs/reference/visualize/gradient/#definitions-focal-radius) methods
- Fixed interaction of clipping and outset on [`box{:typst}`](/docs/reference/layout/box/) and [`block{:typst}`](/docs/reference/layout/block/)
- Fixed panic with [`path{:typst}`](/docs/reference/visualize/path/) of infinite length
- Fixed non-solid (e.g. tiling) text fills in clipped blocks
- Fixed a crash for images with a DPI value of zero
- Fixed floating-point error in [`gradient.repeat{:typst}`](/docs/reference/visualize/gradient/#definitions-repeat)
- Auto-detection of image formats from a raw buffer now has support for SVGs

## Scripting

- Functions that accept [file paths](/docs/reference/syntax/#paths) now also accept raw [bytes](/docs/reference/foundations/bytes/) 
  - [`image{:typst}`](/docs/reference/visualize/image/), [`cbor{:typst}`](/docs/reference/data-loading/cbor/), [`csv{:typst}`](/docs/reference/data-loading/csv/), [`json{:typst}`](/docs/reference/data-loading/json/), [`toml{:typst}`](/docs/reference/data-loading/toml/), [`xml{:typst}`](/docs/reference/data-loading/xml/), and [`yaml{:typst}`](/docs/reference/data-loading/yaml/) now support a path string or bytes and their `.decode{:typst}` variants are deprecated
  - [`plugin{:typst}`](/docs/reference/foundations/plugin/), [`bibliography{:typst}`](/docs/reference/model/bibliography/), [`bibliography.style{:typst}`](/docs/reference/model/bibliography/#parameters-style), [`cite.style{:typst}`](/docs/reference/model/cite/#parameters-style), [`raw.theme{:typst}`](/docs/reference/text/raw/#parameters-theme), and [`raw.syntaxes{:typst}`](/docs/reference/text/raw/#parameters-syntaxes) now accept bytes in addition to path strings. These did not have `.decode{:typst}` variants, so this adds new flexibility.
  - The `path{:typst}` argument/field of [`image{:typst}`](/docs/reference/visualize/image/) and [`bibliography{:typst}`](/docs/reference/model/bibliography/) was renamed to `source{:typst}` and `sources{:typst}`, respectively **(Minor breaking change)**
- Improved WebAssembly [plugins](/docs/reference/foundations/plugin/) 
  - The `plugin{:typst}` type is replaced by a [`plugin{:typst}` function](/docs/reference/foundations/plugin/) that returns a [module](/docs/reference/foundations/module/) containing normal Typst functions. This module can be used with import syntax. **(Breaking change)**
  - Plugins now automatically run in multiple threads without any changes by plugin authors
  - A new [`plugin.transition{:typst}`](/docs/reference/foundations/plugin/#definitions-transition) API is introduced which allows plugins to run impure initialization in a way that doesn't break Typst's purity guarantees
- The variable name bound by a bare import (no renaming, no import list) is now determined statically and dynamic imports without `as{:typst}` renaming (e.g. `import "ot" + "her.typ"{:typst}`) are a hard error **(Breaking change)**
- Values of the [`arguments{:typst}`](/docs/reference/foundations/arguments/) type can now be added with `+{:typst}` and [joined](/docs/reference/scripting/#blocks) in curly-braced code blocks
- Functions in an element function's scope can now be called with method syntax, bringing elements and types closer (in anticipation of a future full unification of the two). Currently, this is only useful for [`outline.entry{:typst}`](/docs/reference/model/outline/#definitions-entry) as no other element function defines methods.
- Added [`calc.norm{:typst}`](/docs/reference/foundations/calc/#functions-norm) function
- Added support for 32-bit floats in [`float.from-bytes{:typst}`](/docs/reference/foundations/float/#definitions-from-bytes) and [`float.to-bytes{:typst}`](/docs/reference/foundations/float/#definitions-to-bytes)
- The [`decimal{:typst}`](/docs/reference/foundations/decimal/) constructor now also accepts decimal values
- Improved `repr{:typst}` of [symbols](/docs/reference/foundations/symbol/), [arguments](/docs/reference/foundations/arguments/), and [types](/docs/reference/foundations/type/)
- Duplicate [symbol](/docs/reference/foundations/symbol/) variants and modifiers are now a hard error **(Breaking change)**

## Math

- Fixed a bug where single letter strings in math (`$"a"${:typst}`) would be displayed in italics
- Math function calls can now have hyphenated named arguments and support [argument spreading](/docs/reference/foundations/arguments/#spreading)
- Better looking accents thanks to support for the `flac{:typst}` (Flattened Accent Forms) and `dtls{:typst}` (Dotless Forms) OpenType features
- Added `lcm{:typst}` [text operator](/docs/reference/math/op/)
- The [`bold{:typst}`](/docs/reference/math/styles/#functions-bold) function now works with ϝ and Ϝ
- The [`italic{:typst}`](/docs/reference/math/styles/#functions-italic) function now works with ħ
- Fixed a bug where the extent of a math equation was wrongly affected by internal metadata
- Fixed interaction of [`lr{:typst}`](/docs/reference/math/lr/#functions-lr) and [context](/docs/reference/context/) expressions
- Fixed weak spacing being unconditionally ignored in [`lr{:typst}`](/docs/reference/math/lr/#functions-lr)
- Fixed sub/superscripts sometimes being in the wrong position with [`lr{:typst}`](/docs/reference/math/lr/#functions-lr)
- Fixed multi-line annotations (e.g. overbrace) changing the math baseline
- Fixed merging of attachments when the base is a nested equation
- Fixed resolving of contextual (em-based) text sizes within math
- Fixed spacing around up tacks (⊥)

## Bibliography

- Prose and author-only citations now use editor names if the author names are unavailable
- Some non-standard but widely used BibLaTeX `editortype{:typst}`s like `producer{:typst}`, `writer{:typst}`, `scriptwriter{:typst}`, and `none{:typst}` (defined by widespread style `biblatex-chicago{:typst}` to mean performers within `music{:typst}` and `video{:typst}` entries) are now recognized
- CSL styles can now render affixes around the bibliography
- For BibTeX entries with `eprinttype = \{pubmed\}{:typst}`, the PubMed ID will now be correctly processed
- Whitespace handling for strings delimiting initialized names has been improved
- Uppercase spelling after apostrophes used as quotation marks is now possible
- Fixed bugs around the handling of CSL delimiting characters
- Fixed a problem with parsing multibyte characters in page ranges that could prevent Hayagriva from parsing some BibTeX page ranges
- Updated CSL APA style
- Updated CSL locales for Finnish, Swiss German, Austrian German, German, and Arabic

## Text

- Added support for specifying which charset should be [covered](/docs/reference/text/text/#parameters-font) by which font family
- Added [`all{:typst}`](/docs/reference/text/smallcaps/#parameters-all) parameter to `smallcaps{:typst}` function that also enables small capitals on uppercase letters
- Added basic i18n for Basque and Bulgarian
- [Justification](/docs/reference/model/par/#parameters-justify) does not affect [raw](/docs/reference/text/raw/) blocks anymore
- [CJK-Latin-spacing](/docs/reference/text/text/#parameters-cjk-latin-spacing) does not affect [raw](/docs/reference/text/raw/) text anymore
- Fixed wrong language codes being used for Greek and Ukrainian
- Fixed default quotes for Croatian and Bulgarian
- Fixed crash in RTL text handling
- Added support for [`raw{:typst}`](/docs/reference/text/raw/) syntax highlighting for a few new languages: CFML, NSIS, and WGSL
- New font metadata exception for New Computer Modern Sans Math
- Updated bundled New Computer Modern fonts to version 7.0.1

## Layout

- Fixed various bugs with footnotes 
  - Fixed footnotes getting lost when multiple footnotes were nested within another footnote
  - Fixed endless loops with empty and overlarge footnotes
  - Fixed crash with overlarge footnotes within a floating placement
- Fixed sizing of quadratic shapes ([`square{:typst}`](/docs/reference/visualize/square/) and [`circle{:typst}`](/docs/reference/visualize/circle/))
- Fixed [`block.sticky{:typst}`](/docs/reference/layout/block/#parameters-sticky) not working properly at the top of a container
- Fixed crash due to consecutive weak spacing
- Fixed crash when a [block](/docs/reference/layout/block/) or text have negative sizes
- Fixed unnecessary hyphenations occurring in rare scenarios due to a bad interaction between padding and paragraph optimization
- Fixed lone [citations](/docs/reference/model/cite/) in [`align{:typst}`](/docs/reference/layout/align/) not becoming their own paragraph

## Syntax

- Top-level closing square brackets that do not have a matching opening square bracket are now a hard error **(Minor breaking change)**
- Adding a space between the identifier and the parentheses in a set rule is not allowed anymore **(Minor breaking change)**
- Numbers with a unit cannot have a base prefix anymore, e.g. `0b100000pt{:typst}` is not allowed anymore. Previously, it was syntactically allowed but always resolved to a value of zero. **(Minor breaking change)**
- Using `is{:typst}` as an identifier will now warn as it might become a keyword in the future
- Fixed minor whitespace handling bugs 
  - in math mode argument lists
  - at the end of headings
  - between a term list's term and description
- Fixed parsing of empty single line raw blocks with 3+ backticks and a language tag
- Fixed minor bug with parentheses parsing in math
- Markup that can only appear at the start of the line (headings, lists) can now also appear at the start of a list item
- A shebang `#!{:typst}` at the very start of a file is now ignored

## PDF export

- Added [`pdf.embed{:typst}`](/docs/reference/pdf/attach/) function for embedding arbitrary files in the exported PDF
- Added support for PDF/A-3b export
- The PDF timestamp will now contain the timezone by default

## HTML export

**Note:** HTML export is currently under active development. The feature is still _very_ incomplete, but already available for experimentation behind a feature flag.

- Added HTML output support for some (but not all) of the built-in elements
- Added [`html.elem{:typst}`](/docs/reference/html/elem/) function for outputting an arbitrary HTML element
- Added [`html.frame{:typst}`](/docs/reference/html/frame/) function for integrating content that requires layout into HTML (by embedding an SVG)
- Added [`target{:typst}`](/docs/reference/foundations/target/) function which returns either `"paged"{:typst}` or `"html"{:typst}` depending on the export target

## Tooling and Diagnostics

- Autocompletion improvements 
  - Added autocompletion for file paths
  - Smarter autocompletion of variables: Completing `rect(fill: |){:typst}` will now only show variables which contain a valid fill (either directly or nested, e.g. a dictionary containing a valid fill)
  - Different functions will now autocomplete with different brackets (round vs square) depending on which kind is more useful
  - Positional parameters which are already provided aren't autocompleted again anymore
  - Fixed variable autocompletion not considering parameters
  - Added autocompletion snippets for common figure usages
  - Fixed autocompletion after half-completed import item
  - Fixed autocompletion for `cite{:typst}` function
- Added warning when an unconditional return in a code block discards joined content
- Fixed error message when accessing non-existent label
- Fixed handling of nested imports in IDE functionality

## Command Line Interface

- Added `--features{:typst}` argument and `TYPST_FEATURES{:typst}` environment variable for opting into experimental features. The only feature so far is `html{:typst}`.
- Added a live reloading HTTP server to `typst watch{:typst}` when targeting HTML
- Fixed self-update not being aware about certain target architectures
- Fixed crash when piping `typst fonts{:typst}` output to another command
- Fixed handling of relative paths in `--make-deps{:typst}` output
- Fixed handling of multipage SVG and PNG export in `--make-deps{:typst}` output
- Colons in filenames are now correctly escaped in `--make-deps{:typst}` output

## Symbols

- New 
  - `inter{:typst}`, `inter.and{:typst}`, `inter.big{:typst}`, `inter.dot{:typst}`, `inter.double{:typst}`, `inter.sq{:typst}`, `inter.sq.big{:typst}`, `inter.sq.double{:typst}`, `integral.inter{:typst}`
  - `asymp{:typst}`, `asymp.not{:typst}`
  - `mapsto{:typst}`, `mapsto.long{:typst}`
  - `divides.not.rev{:typst}`, `divides.struck{:typst}`
  - `interleave{:typst}`, `interleave.big{:typst}`, `interleave.struck{:typst}`
  - `eq.triple.not{:typst}`, `eq.dots{:typst}`, `eq.dots.down{:typst}`, `eq.dots.up{:typst}`
  - `smt{:typst}`, `smt.eq{:typst}`, `lat{:typst}`, `lat.eq{:typst}`
  - `colon.tri{:typst}`, `colon.tri.op{:typst}`
  - `dagger.triple{:typst}`, `dagger.l{:typst}`, `dagger.r{:typst}`, `dagger.inv{:typst}`
  - `hourglass.stroked{:typst}`, `hourglass.filled{:typst}`
  - `die.six{:typst}`, `die.five{:typst}`, `die.four{:typst}`, `die.three{:typst}`, `die.two{:typst}`, `die.one{:typst}`
  - `errorbar.square.stroked{:typst}`, `errorbar.square.filled{:typst}`, `errorbar.diamond.stroked{:typst}`, `errorbar.diamond.filled{:typst}`, `errorbar.circle.stroked{:typst}`, `errorbar.circle.filled{:typst}`
  - `numero{:typst}`
- Renamed **(Breaking change)** 
  - `ohm.inv{:typst}` to `Omega.inv{:typst}`
- Changed codepoint **(Breaking change)** 
  - `angle.l.double{:typst}` from `《{:typst}` to `⟪{:typst}`
  - `angle.r.double{:typst}` from `》{:typst}` to `⟫{:typst}`
  - `angstrom{:typst}` from U+212B (`Å{:typst}`) to U+00C5 (`Å{:typst}`)
- Deprecated 
  - `sect{:typst}` and all its variants in favor of `inter{:typst}`
  - `integral.sect{:typst}` in favor of `integral.inter{:typst}`
- Removed **(Breaking change)** 
  - `degree.c{:typst}` in favor of `°C{:typst}` (`$upright(°C)${:typst}` or `$upright(degree C)${:typst}` in math)
  - `degree.f{:typst}` in favor of `°F{:typst}` (`$upright(°F)${:typst}` or `$upright(degree F)${:typst}` in math)
  - `kelvin{:typst}` in favor of just K (`$upright(K)${:typst}` in math)
  - `ohm{:typst}` in favor of `Omega{:typst}`

## Deprecations

- The [`path{:typst}`](/docs/reference/visualize/path/) function in favor of the [`curve{:typst}`](/docs/reference/visualize/curve/) function
- The name `pattern{:typst}` for tiling patterns in favor of the new name [`tiling{:typst}`](/docs/reference/visualize/tiling/)
- [`image.decode{:typst}`](/docs/reference/visualize/image/#definitions-decode), [`cbor.decode{:typst}`](/docs/reference/data-loading/cbor/#definitions-decode), [`csv.decode{:typst}`](/docs/reference/data-loading/csv/#definitions-decode), [`json.decode{:typst}`](/docs/reference/data-loading/json/#definitions-decode), [`toml.decode{:typst}`](/docs/reference/data-loading/toml/#definitions-decode), [`xml.decode{:typst}`](/docs/reference/data-loading/xml/#definitions-decode), [`yaml.decode{:typst}`](/docs/reference/data-loading/yaml/#definitions-decode) in favor of the top-level functions directly accepting both paths and bytes
- The `sect{:typst}` and its variants in favor of `inter{:typst}`, and `integral.sect{:typst}` in favor of `integral.inter{:typst}`
- The compatibility behavior of type/str comparisons (e.g. `int == "integer"{:typst}`) which was temporarily introduced in Typst 0.8 now emits warnings. It will be removed in Typst 0.14.

## Removals

- Removed `style{:typst}` function and `styles{:typst}` argument of [`measure{:typst}`](/docs/reference/layout/measure/), use a [context](/docs/reference/context/) expression instead **(Breaking change)**
- Removed `state.display{:typst}` function, use [`state.get{:typst}`](/docs/reference/introspection/state/#definitions-get) instead **(Breaking change)**
- Removed `location{:typst}` argument of [`state.at{:typst}`](/docs/reference/introspection/state/#definitions-at), [`counter.at{:typst}`](/docs/reference/introspection/counter/#definitions-at), and [`query{:typst}`](/docs/reference/introspection/query/) **(Breaking change)**
- Removed compatibility behavior where [`counter.display{:typst}`](/docs/reference/introspection/counter/#definitions-display) worked without [context](/docs/reference/context/) **(Breaking change)**
- Removed compatibility behavior of [`locate{:typst}`](/docs/reference/introspection/locate/) **(Breaking change)**

## Development

- The `typst::compile{:typst}` function is now generic and can return either a `PagedDocument{:typst}` or an `HtmlDocument{:typst}`
- `typst-timing{:typst}` now supports WebAssembly targets via `web-sys{:typst}` when the `wasm{:typst}` feature is enabled
- Increased minimum supported Rust version to 1.80
- Fixed linux/arm64 Docker image

## Contributors
