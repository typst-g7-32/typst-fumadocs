---
title: "0.11.0"
description: "Changes in Typst 0.11.0"
---


## Tables

- Tables are now _much_ more flexible, read the new [Table Guide](/docs/guides/tables/) to get started
- Added [`table.cell{:typst}`](/docs/reference/model/table/#definitions-cell) element for per-cell configuration
- Cells can now span multiple [columns](/docs/reference/model/table/#definitions-cell-colspan) or [rows](/docs/reference/model/table/#definitions-cell-rowspan)
- The [stroke](/docs/reference/model/table/#definitions-cell-stroke) of individual cells can now be customized
- The [`align{:typst}`](/docs/reference/model/table/#parameters-align) and [`inset{:typst}`](/docs/reference/model/table/#parameters-inset) arguments of the table function now also take `(x, y) => ..{:typst}` functions
- Added [`table.hline{:typst}`](/docs/reference/model/table/#definitions-hline) and [`table.vline{:typst}`](/docs/reference/model/table/#definitions-vline) for convenient line customization
- Added [`table.header{:typst}`](/docs/reference/model/table/#definitions-header) element for table headers that repeat on every page
- Added [`table.footer{:typst}`](/docs/reference/model/table/#definitions-footer) element for table footers that repeat on every page
- All the new table functionality is also available for [grids](/docs/reference/layout/grid/)
- Fixed gutter-related bugs

_Thanks to @PgBiel for his work on tables!_

## Templates

- You can now use template packages to get started with new projects. Click _Start from template_ on the web app's dashboard and choose your preferred template or run the `typst init <template>{:typst}` command in the CLI. You can [browse the available templates here](https://typst.app/universe/search/?kind=templates).
- Switching templates after the fact has become easier. You can just import a styling function from a different template package.
- Package authors can now submit their own templates to the [package repository](https://github.com/typst/packages). Share a template for a paper, your institution, or an original work to help the community get a head start on their projects.
- Templates and packages are now organized by category and discipline. Filter packages by either taxonomy in the _Start from template_ wizard. If you are a package author, take a look at the new documentation for [categories](https://github.com/typst/packages/blob/main/docs/CATEGORIES.md) and [disciplines](https://github.com/typst/packages/blob/main/docs/DISCIPLINES.md).

## Context

- Added _context expressions:_ Read the chapter on [context](/docs/reference/context/) to get started
- With context, you can access settable properties, e.g. `context text.lang{:typst}` to access the language set via `set text(lang: ".."){:typst}`
- The following existing functions have been made contextual: [`query{:typst}`](/docs/reference/introspection/query/), [`locate{:typst}`](/docs/reference/introspection/locate/), [`measure{:typst}`](/docs/reference/layout/measure/), [`counter.display{:typst}`](/docs/reference/introspection/counter/#definitions-display), [`counter.at{:typst}`](/docs/reference/introspection/counter/#definitions-at), [`counter.final{:typst}`](/docs/reference/introspection/counter/#definitions-final), [`state.at{:typst}`](/docs/reference/introspection/state/#definitions-at), and [`state.final{:typst}`](/docs/reference/introspection/state/#definitions-final)
- Added contextual methods [`counter.get{:typst}`](/docs/reference/introspection/counter/#definitions-get) and [`state.get{:typst}`](/docs/reference/introspection/state/#definitions-get) to retrieve the value of a counter or state in the current context
- Added contextual function [`here{:typst}`](/docs/reference/introspection/here/) to retrieve the [location](/docs/reference/introspection/location/) of the current context
- The [`locate{:typst}`](/docs/reference/introspection/locate/) function now returns the location of a selector's unique match. Its old behavior has been replaced by context expressions and only remains temporarily available for compatibility.
- The [`counter.at{:typst}`](/docs/reference/introspection/counter/#definitions-at) and [`state.at{:typst}`](/docs/reference/introspection/state/#definitions-at) methods are now more flexible: They directly accept any kind of [locatable](/docs/reference/introspection/location/#locatable) selector with a unique match (e.g. a label) instead of just locations
- When context is available, [`counter.display{:typst}`](/docs/reference/introspection/counter/#definitions-display) now directly returns the result of applying the numbering instead of yielding opaque content. It should not be used anymore without context. (Deprecation planned)
- The `state.display{:typst}` function should not be used anymore, use [`state.get{:typst}`](/docs/reference/introspection/state/#definitions-get) instead (Deprecation planned)
- The `location{:typst}` argument of [`query{:typst}`](/docs/reference/introspection/query/), [`counter.final{:typst}`](/docs/reference/introspection/counter/#definitions-final), and [`state.final{:typst}`](/docs/reference/introspection/state/#definitions-final) should not be used anymore (Deprecation planned)
- The `styles{:typst}` argument of the `measure{:typst}` function should not be used anymore (Deprecation planned)
- The `style{:typst}` function should not be used anymore, use context instead (Deprecation planned)
- The correct context is now also provided in various other places where it is available, e.g. in show rules, layout callbacks, and numbering functions in the outline

## Styling

- Fixed priority of multiple [show-set rules](/docs/reference/styling/#show-rules): They now apply in the same order as normal set rules would
- Show-set rules on the same element (e.g. `show heading.where(level: 1): set heading(numbering: "1."){:typst}`) now work properly
- Setting properties on an element within a transformational show rule (e.g. `show heading: it => \{ set heading(..); it \}{:typst}`) is **not** supported anymore (previously it also only worked sometimes); use show-set rules instead **(Breaking change)**
- Text show rules that match their own output now work properly (e.g. `show "cmd": `cmd`{:typst}`)
- The elements passed to show rules and returned by queries now contain all fields of their respective element functions rather than just specific ones
- All settable properties can now be used in [where](/docs/reference/foundations/function/#definitions-where) selectors
- [And](/docs/reference/foundations/selector/#definitions-and) and [or](/docs/reference/foundations/selector/#definitions-or) selectors can now be used with show rules
- Errors within show rules and context expressions are now ignored in all but the last introspection iteration, in line with the behavior of the old [`locate{:typst}`](/docs/reference/introspection/locate/)
- Fixed a bug where document set rules were allowed after content

## Layout

- Added `reflow{:typst}` argument to [`rotate{:typst}`](/docs/reference/layout/rotate/) and [`scale{:typst}`](/docs/reference/layout/scale/) which lets them affect the layout
- Fixed a bug where [floating placement](/docs/reference/layout/place/#parameters-float) or [floating figures](/docs/reference/model/figure/#parameters-placement) could end up out of order
- Fixed overlap of text and figure for full-page floating figures
- Fixed various cases where the [`hide{:typst}`](/docs/reference/layout/hide/) function didn't hide its contents properly
- Fixed usage of [`h{:typst}`](/docs/reference/layout/h/) and [`v{:typst}`](/docs/reference/layout/v/) in [stacks](/docs/reference/layout/stack/)
- Invisible content like a counter update will no longer force a visible block for just itself
- Fixed a bug with horizontal spacing followed by invisible content (like a counter update) directly at the start of a paragraph

## Text

- Added [`stroke{:typst}`](/docs/reference/text/text/#parameters-stroke) property for text
- Added basic i18n for Serbian and Catalan
- Added support for contemporary Japanese [numbering](/docs/reference/model/numbering/) method
- Added patches for various wrong metadata in specific fonts
- The [text direction](/docs/reference/text/text/#parameters-dir) can now be overridden within a paragraph
- Fixed Danish [smart quotes](/docs/reference/text/smartquote/)
- Fixed font fallback next to a line break
- Fixed width adjustment of JIS-style Japanese punctuation
- Fixed Finnish translation of "Listing"
- Fixed Z-ordering of multiple text decorations (underlines, etc.)
- Fixed a bug due to which text [features](/docs/reference/text/text/#parameters-features) could not be overridden in consecutive set rules

## Model

- Added [`depth{:typst}`](/docs/reference/model/heading/#parameters-depth) and [`offset{:typst}`](/docs/reference/model/heading/#parameters-offset) arguments to heading to increase or decrease the heading level for a bunch of content; the heading syntax now sets `depth{:typst}` rather than `level{:typst}` **(Breaking change)**
- List [markers](/docs/reference/model/list/#parameters-marker) now cycle by default
- The [`quote{:typst}`](/docs/reference/model/quote/) function now more robustly selects the correct quotes based on language and nesting
- Fixed indent bugs related to the default show rule of [terms](/docs/reference/model/terms/)

## Math

- Inline equations now automatically linebreak at appropriate places
- Added [`number-align{:typst}`](/docs/reference/math/equation/#parameters-number-align) argument to equations
- Added support for adjusting the [`size{:typst}`](/docs/reference/math/accent/#parameters-size) of accents relative to their base
- Improved positioning of accents
- [Primes](/docs/reference/math/primes/) are now always attached as [scripts](/docs/reference/math/attach/#functions-scripts) by default
- Exposed [`math.primes{:typst}`](/docs/reference/math/primes/) element which backs the `$f'${:typst}` syntax in math
- Math mode is not affected by [`strong{:typst}`](/docs/reference/model/strong/) and [`emph{:typst}`](/docs/reference/model/emph/) anymore
- Fixed [`attach{:typst}`](/docs/reference/math/attach/#functions-attach) under [fractions](/docs/reference/math/frac/)
- Fixed that [`math.class{:typst}`](/docs/reference/math/class/) did not affect smart limit placement
- Fixed weak spacing in [`lr{:typst}`](/docs/reference/math/lr/#functions-lr) groups
- Fixed layout of large operators for Cambria Math font
- Fixed math styling of Hebrew symbol codepoints

## Symbols

- Added `gradient{:typst}` as an alias for `nabla{:typst}`
- Added `partial{:typst}` as an alias for `diff{:typst}`, `diff{:typst}` will be deprecated in the future
- Added `colon.double{:typst}`, `gt.approx{:typst}`, `gt.napprox{:typst}`, `lt.approx{:typst}`, and `lt.napprox{:typst}`
- Added `arrow.r.tilde{:typst}` and `arrow.l.tilde{:typst}`
- Added `tilde.dot{:typst}`
- Added `forces{:typst}` and `forces.not{:typst}`
- Added `space.nobreak.narrow{:typst}`
- Added `lrm{:typst}` (Left-to-Right Mark) and `rlm{:typst}` (Right-to-Left Mark)
- Fixed `star.stroked{:typst}` symbol (which previously had the wrong codepoint)

## Scripting

- Arrays can now be compared lexicographically
- Added contextual method [`to-absolute{:typst}`](/docs/reference/layout/length/#definitions-to-absolute) to lengths
- Added [`calc.root{:typst}`](/docs/reference/foundations/calc/#functions-root)
- Added [`int.signum{:typst}`](/docs/reference/foundations/int/#definitions-signum) and [`float.signum{:typst}`](/docs/reference/foundations/float/#definitions-signum) methods
- Added [`float.is-nan{:typst}`](/docs/reference/foundations/float/#definitions-is-nan) and [`float.is-infinite{:typst}`](/docs/reference/foundations/float/#definitions-is-infinite) methods
- Added [`int.bit-not{:typst}`](/docs/reference/foundations/int/#definitions-bit-not), [`int.bit-and{:typst}`](/docs/reference/foundations/int/#definitions-bit-and), [`int.bit-or{:typst}`](/docs/reference/foundations/int/#definitions-bit-or), [`int.bit-xor{:typst}`](/docs/reference/foundations/int/#definitions-bit-xor), [`int.bit-lshift{:typst}`](/docs/reference/foundations/int/#definitions-bit-lshift), and [`int.bit-rshift{:typst}`](/docs/reference/foundations/int/#definitions-bit-rshift) methods
- Added [`array.chunks{:typst}`](/docs/reference/foundations/array/#definitions-chunks) method
- A module can now be converted to a dictionary with the [dictionary constructor](/docs/reference/foundations/dictionary/#constructor) to access its contents dynamically
- Added [`row-type{:typst}`](/docs/reference/data-loading/csv/#parameters-row-type) argument to `csv{:typst}` function to configure how rows will be represented
- [XML parsing](/docs/reference/data-loading/xml/) now allows DTDs (document type definitions)
- Improved formatting of negative numbers with [`str{:typst}`](/docs/reference/foundations/str/) and [`repr{:typst}`](/docs/reference/foundations/repr/)
- For loops can now iterate over [bytes](/docs/reference/foundations/bytes/)
- Fixed a bug with pattern matching in for loops
- Fixed a bug with labels not being part of [`.fields(){:typst}`](/docs/reference/foundations/content/#definitions-fields) dictionaries
- Fixed a bug where unnamed argument sinks wouldn't capture excess arguments
- Fixed typo in `repr{:typst}` output of strokes

## Syntax

- Added support for nested [destructuring patterns](/docs/reference/scripting/#bindings)
- Special spaces (like thin or non-breaking spaces) are now parsed literally instead of being collapsed into normal spaces **(Breaking change)**
- Korean text can now use emphasis syntax without adding spaces **(Breaking change)**
- The token [`context{:typst}`](/docs/reference/context/) is now a keyword and cannot be used as an identifier anymore **(Breaking change)**
- Nested line comments aren't allowed anymore in block comments **(Breaking change)**
- Fixed a bug where `x.){:typst}` would be treated as a field access
- Text elements can now span across curly braces in markup
- Fixed silently wrong parsing when function name is parenthesized
- Fixed various bugs with parsing of destructuring patterns, arrays, and dictionaries

## Tooling & Diagnostics

- Click-to-jump now works properly within [`raw{:typst}`](/docs/reference/text/raw/) text
- Added suggestion for accessing a field if a method doesn't exist
- Improved hint for calling a function stored in a dictionary
- Improved errors for mutable accessor functions on arrays and dictionaries
- Fixed error message when calling constructor of type that doesn't have one
- Fixed confusing error message with nested dictionaries for strokes on different sides
- Fixed autocompletion for multiple packages with the same name from different namespaces

## Visualization

- The [`image{:typst}`](/docs/reference/visualize/image/) function doesn't upscale images beyond their natural size anymore
- The [`image{:typst}`](/docs/reference/visualize/image/) function now respects rotation stored in EXIF metadata
- Added support for SVG filters
- Added alpha component to [`luma{:typst}`](/docs/reference/visualize/color/#definitions-luma) colors
- Added [`color.transparentize{:typst}`](/docs/reference/visualize/color/#definitions-transparentize) and [`color.opacify{:typst}`](/docs/reference/visualize/color/#definitions-opacify) methods
- Improved [`color.negate{:typst}`](/docs/reference/visualize/color/#definitions-negate) function
- Added [`stroke{:typst}`](/docs/reference/text/highlight/#parameters-stroke) and [`radius{:typst}`](/docs/reference/text/highlight/#parameters-radius) arguments to `highlight{:typst}` function
- Changed default [`highlight{:typst}`](/docs/reference/text/highlight/) color to be transparent
- CMYK to RGB conversion is now color-managed
- Fixed crash with gradients in Oklch color space
- Fixed color-mixing for hue-based spaces
- Fixed bugs with color conversion
- SVG sizes are not rounded anymore, preventing slightly wrong aspect ratios
- Fixed a few other SVG-related bugs
- [`color.components{:typst}`](/docs/reference/visualize/color/#definitions-components) doesn't round anything anymore

## Export

- PDFs now contain named destinations for headings derived from their labels
- The internal PDF structure was changed to make it easier for external tools to extract or modify individual pages, avoiding a bug with Typst PDFs in Apple Preview
- PDFs produced by Typst should now be byte-by-byte reproducible when `set document(date: none){:typst}` is set
- Added missing flag to PDF annotation
- Fixed multiple bugs with gradients in PDF export
- Fixed a bug with patterns in PDF export
- Fixed a bug with embedding of grayscale images in PDF export
- Fixed a bug with To-Unicode mapping of CFF fonts in PDF export
- Fixed a bug with the generation of the PDF outline
- Fixed a sorting bug in PDF export leading to non-reproducible output
- Fixed a bug with transparent text in PNG export
- Exported SVG files now include units in their top-level `width{:typst}` and `height{:typst}`

## Command line interface

- Added support for passing [inputs](/docs/reference/foundations/sys/) via a CLI flag
- When passing the filename `-{:typst}`, Typst will now read input from stdin
- Now uses the system-native TLS implementation for network fetching which should be generally more robust
- Watch mode will now properly detect when a previously missing file is created
- Added `--color{:typst}` flag to configure whether to print colored output
- Fixed user agent with which packages are downloaded
- Updated bundled fonts to the newest versions

## Development

- Added `--vendor-openssl{:typst}` to CLI to configure whether to link OpenSSL statically instead of dynamically (not applicable to Windows and Apple platforms)
- Removed old tracing (and its verbosity) flag from the CLI
- Added new `--timings{:typst}` flag which supersedes the old flamegraph profiling in the CLI
- Added minimal CLI to `typst-docs{:typst}` crate for extracting the language and standard library documentation as JSON
- The `typst_pdf::export{:typst}` function's `ident{:typst}` argument switched from `Option{:typst}` to `Smart{:typst}`. It should only be set to `Smart::Custom{:typst}` if you can provide a stable identifier (like the web app can). The CLI sets `Smart::Auto{:typst}`.

## Contributors
