---
title: "0.9.0"
description: "Changes in Typst 0.9.0"
---

## Bibliography management

- New bibliography engine based on [CSL](https://citationstyles.org/) (Citation Style Language). Ships with about 100 commonly used citation styles and can load custom `.csl{:typst}` files.
- Added new [`form{:typst}`](/docs/reference/model/cite/#parameters-form) argument to the `cite{:typst}` function to produce different forms of citations (e.g. for producing a citation suitable for inclusion in prose)
- The [`cite{:typst}`](/docs/reference/model/cite/) function now takes only a single label/key instead of allowing multiple. Adjacent citations are merged and formatted according to the citation style's rules automatically. This works both with the reference syntax and explicit calls to the `cite{:typst}` function. **(Breaking change)**
- The `cite{:typst}` function now takes a [label](/docs/reference/foundations/label/) instead of a string **(Breaking change)**
- Added [`full{:typst}`](/docs/reference/model/bibliography/#parameters-full) argument to bibliography function to print the full bibliography even if not all works were cited
- Bibliography entries can now contain Typst equations (wrapped in `$..${:typst}` just like in markup), this works both for `.yaml{:typst}` and `.bib{:typst}` bibliographies
- The hayagriva YAML format was improved. See its [changelog](https://github.com/typst/hayagriva/blob/main/CHANGELOG.md) for more details. **(Breaking change)**
- A few bugs with `.bib{:typst}` file parsing were fixed
- Removed `brackets{:typst}` argument of `cite{:typst}` function in favor of `form{:typst}`

## Visualization

- Gradients and colors (thanks to [@Dherse](https://github.com/Dherse)) 
  - Added support for [gradients](/docs/reference/visualize/gradient/) on shapes and text
  - Supports linear, radial, and conic gradients
  - Added support for defining colors in more color spaces, including [Oklab](/docs/reference/visualize/color/#definitions-oklab), [Linear RGB(A)](/docs/reference/visualize/color/#definitions-linear-rgb), [HSL](/docs/reference/visualize/color/#definitions-hsl), and [HSV](/docs/reference/visualize/color/#definitions-hsv)
  - Added [`saturate{:typst}`](/docs/reference/visualize/color/#definitions-saturate), [`desaturate{:typst}`](/docs/reference/visualize/color/#definitions-desaturate), and [`rotate{:typst}`](/docs/reference/visualize/color/#definitions-rotate) functions on colors
  - Added [`color.map{:typst}`](/docs/reference/visualize/color/#predefined-color-maps) module with predefined color maps that can be used with gradients
  - Rename `kind{:typst}` function on colors to [`space{:typst}`](/docs/reference/visualize/color/#definitions-space)
  - Removed `to-rgba{:typst}`, `to-cmyk{:typst}`, and `to-luma{:typst}` functions in favor of a new [`components{:typst}`](/docs/reference/visualize/color/#definitions-components) function
- Improved rendering of [rectangles](/docs/reference/visualize/rect/) with corner radius and varying stroke widths
- Added support for properly clipping [boxes](/docs/reference/layout/box/#parameters-clip) and [blocks](/docs/reference/layout/block/#parameters-clip) with a border radius
- Added `background{:typst}` parameter to [`overline{:typst}`](/docs/reference/text/overline/), [`underline{:typst}`](/docs/reference/text/underline/), and [`strike{:typst}`](/docs/reference/text/strike/) functions
- Fixed inaccurate color embedding in PDFs
- Fixed ICC profile handling for images embedded in PDFs

## Text and Layout

- Added support for automatically adding proper [spacing](/docs/reference/text/text/#parameters-cjk-latin-spacing) between CJK and Latin text (enabled by default)
- Added support for automatic adjustment of more CJK punctuation
- Added [`quote{:typst}`](/docs/reference/model/quote/) element for inserting inline and block quotes with optional attributions
- Added [`raw.line{:typst}`](/docs/reference/text/raw/#definitions-line) element for customizing the display of individual lines of raw text, e.g. to add line numbers while keeping proper syntax highlighting
- Added support for per-side [inset](/docs/reference/model/table/#parameters-inset) customization to table function
- Added Hungarian and Romanian translations
- Added support for Czech hyphenation
- Added support for setting custom [smart quotes](/docs/reference/text/smartquote/)
- The default [figure separator](/docs/reference/model/figure/#definitions-caption-separator) now reacts to the currently set language and region
- Improved line breaking of links / URLs (especially helpful for bibliographies with many URLs)
- Improved handling of consecutive hyphens in justification algorithm
- Fixed interaction of justification and hanging indent
- Fixed a bug with line breaking of short lines without spaces when justification is enabled
- Fixed font fallback for hyphen generated by hyphenation
- Fixed handling of word joiner and other no-break characters during hyphenation
- Fixed crash when hyphenating after an empty line
- Fixed line breaking of composite emoji like üè≥Ô∏è‚Äçüåà
- Fixed missing text in some SVGs
- Fixed font fallback in SVGs
- Fixed behavior of [`to{:typst}`](/docs/reference/layout/pagebreak/#parameters-to) argument on `pagebreak{:typst}` function
- Fixed `set align(..){:typst}` for equations
- Fixed spacing around [placed](/docs/reference/layout/place/) elements
- Fixed coalescing of [`above{:typst}`](/docs/reference/layout/block/#parameters-above) and [`below{:typst}`](/docs/reference/layout/block/#parameters-below) spacing if given in em units and the font sizes differ
- Fixed handling of `extent{:typst}` parameter of [`underline{:typst}`](/docs/reference/text/underline/), [`overline{:typst}`](/docs/reference/text/overline/), and [`strike{:typst}`](/docs/reference/text/strike/) functions
- Fixed crash for [floating placed elements](/docs/reference/layout/place/#parameters-float) with no specified vertical alignment
- Partially fixed a bug with citations in footnotes

## Math

- Added `gap{:typst}` argument for [`vec{:typst}`](/docs/reference/math/vec/#parameters-gap), [`mat{:typst}`](/docs/reference/math/mat/#parameters-gap), and [`cases{:typst}`](/docs/reference/math/cases/#parameters-gap) function
- Added `size{:typst}` argument for [`abs{:typst}`](/docs/reference/math/lr/#functions-abs), [`norm{:typst}`](/docs/reference/math/lr/#functions-norm), [`floor{:typst}`](/docs/reference/math/lr/#functions-floor), [`ceil{:typst}`](/docs/reference/math/lr/#functions-ceil), and [`round{:typst}`](/docs/reference/math/lr/#functions-round) functions
- Added [`reverse{:typst}`](/docs/reference/math/cases/#parameters-reverse) parameter to cases function
- Added support for multinomial coefficients to [`binom{:typst}`](/docs/reference/math/binom/) function
- Removed `rotation{:typst}` argument on [`cancel{:typst}`](/docs/reference/math/cancel/) function in favor of a new and more flexible `angle{:typst}` argument **(Breaking change)**
- Added `wide{:typst}` constant, which inserts twice the spacing of `quad{:typst}`
- Added `csch{:typst}` and `sech{:typst}` [operators](/docs/reference/math/op/)
- `‚Üº{:typst}`, `‚áÄ{:typst}`, `‚Üî{:typst}`, and `‚ü∑{:typst}` can now be used as [accents](/docs/reference/math/accent/)
- Added `integral.dash{:typst}`, `integral.dash.double{:typst}`, and `integral.slash{:typst}` [symbols](/docs/reference/symbols/sym/)
- Added support for specifying negative indices for [augmentation](/docs/reference/math/mat/#parameters-augment) lines to position the line from the back
- Fixed default color of matrix [augmentation](/docs/reference/math/mat/#parameters-augment) lines
- Fixed attachment of primes to inline expressions
- Math content now respects the text [baseline](/docs/reference/text/text/#parameters-baseline) setting

## Performance

- Fixed a bug related to show rules in templates which would effectively disable incremental compilation in affected documents
- Micro-optimized code in several hot paths, which brings substantial performance gains, in particular in incremental compilations
- Improved incremental parsing, which affects the whole incremental compilation pipeline
- Added support for incremental parsing in the CLI
- Added support for incremental SVG encoding during PDF export, which greatly improves export performance for documents with many SVG

## Tooling and Diagnostics

- Improved autocompletion for variables that are in-scope
- Added autocompletion for package imports
- Added autocompletion for [labels](/docs/reference/foundations/label/)
- Added tooltip that shows which variables a function captures (when hovering over the equals sign or arrow of the function)
- Diagnostics are now deduplicated
- Improved diagnostics when trying to apply unary `+{:typst}` or `-{:typst}` to types that only support binary `+{:typst}` and `-{:typst}`
- Error messages now state which label or citation key isn't present in the document or its bibliography
- Fixed a bug where function argument parsing errors were shadowed by function execution errors (e.g. when trying to call [`array.sorted{:typst}`](/docs/reference/foundations/array/#definitions-sorted) and passing the key function as a positional argument instead of a named one).

## Export

- Added support for configuring the document's creation [`date{:typst}`](/docs/reference/model/document/#parameters-date). If the `date{:typst}` is set to `auto{:typst}` (the default), the PDF's creation date will be set to the current date and time.
- Added support for configuring document [`keywords{:typst}`](/docs/reference/model/document/#parameters-keywords)
- Generated PDFs now contain PDF document IDs
- The PDF creator tool metadata now includes the Typst version

## Web app

- Added version picker to pin a project to an older compiler version (with support for Typst 0.6.0+)
- Fixed desyncs between editor and compiler and improved overall stability
- The app now continues to highlight the document when typing while the document is being compiled

## Command line interface

- Added support for discovering fonts through fontconfig
- Now clears the screen instead of resetting the terminal
- Now automatically picks correct file extension for selected output format
- Now only regenerates images for changed pages when using `typst watch{:typst}` with PNG or SVG export

## Miscellaneous Improvements

- Added [`version{:typst}`](/docs/reference/foundations/version/) type and `sys.version{:typst}` constant specifying the current compiler version. Can be used to gracefully support multiple versions.
- The U+2212 MINUS SIGN is now used when displaying a numeric value, in the [`repr{:typst}`](/docs/reference/foundations/repr/) of any numeric value and to replace a normal hyphen in text mode when before a digit. This improves, in particular, how negative integer values are displayed in math mode.
- Added support for specifying a default value instead of failing for `remove{:typst}` function in [array](/docs/reference/foundations/array/#definitions-remove) and [dictionary](/docs/reference/foundations/dictionary/#definitions-remove)
- Simplified Page Setup Guide examples
- Switched the documentation from using the word "hashtag" to the word "hash" where appropriate
- Added support for [`array.zip{:typst}`](/docs/reference/foundations/array/#definitions-zip) without any further arguments
- Fixed crash when a plugin tried to read out of bounds memory
- Fixed crashes when handling infinite [lengths](/docs/reference/layout/length/)
- Fixed introspection (mostly bibliography) bugs due to weak page break close to the end of the document

## Development

- Extracted `typst::ide{:typst}` into separate `typst_ide{:typst}` crate
- Removed a few remaining `'static{:typst}` bounds on `&dyn World{:typst}`
- Removed unnecessary dependency, which reduces the binary size
- Fixed compilation of `typst{:typst}` by itself (without `typst-library{:typst}`)
- Fixed warnings with Nix flake when using `lib.getExe{:typst}`

## Contributors
